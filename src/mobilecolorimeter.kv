#:import Graph kivy_garden.graph.Graph

<DataGridItem>:
    orientation: "horizontal"
    Label:
        text: f"{root.concentration:.2g}"
    Label:
        text: f"{root.absorbance:.2g}"


<AnalysisScreen>:
    BoxLayout:
        orientation: "vertical"
        # upper bar
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            Button:
                size_hint_x: None
                width: self.height
                text: "S"
                on_release: root.ask_sample()
            Button:
                size_hint_x: None
                width: self.height
                text: "R"
                on_release: root.ask_reference()
            Label:
                text: 'Analyse par colorim√©trie'
            Button:
                size_hint_x: None
                width: self.height
                text: "D"
                on_release: app.delete_session(root)
        DataGrid:
            viewclass: 'DataGridItem'
            RecycleBoxLayout:
                color:(0, 0.7, 0.4, 0.8)
                default_size: None, dp(56)

                # defines the size of the widget in reference to width and height
                default_size_hint: 0.4, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical' # defines the orientation of data items
        Graph:
            xlabel: 'concentration (mol/L)'
            ylabel: 'absorbance'
            xmin: 0
            ymin: 0
            ymax: 3
            xmax: 0.01
            y_grid_label: True
            x_grid_label: True
            y_ticks_major: 0.2
            x_ticks_major: 0.001
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            Button:
                size_hint_x: None
                width: self.height
                text: "<"
                on_release: app.sm.change_screen('left')
            Label:
            Button:
                size_hint_x: None
                width: self.height
                text: ">"
                on_release: app.sm.change_screen('right')



<MainScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: dp(10)
        spacing: dp(5)
        Image:
            size_hint_y: 0.3
            source: "images/logo.png"
        RstDocument:
            document_root: "./docs"
            source: "intro.rst"
            colors: {'background': '000000ff', 'link': 'ce5c00ff', 'paragraph': 'ffffffff', 'title': '204a87ff', 'bullet': '000000ff'}
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(50)
            Button:
                size_hint_x: None
                width: self.height
                text: "<"
                on_release: app.sm.change_screen('left')
            Button:
                text: "Create Analysis Session"
                on_release: app.add_session()
            Button:
                size_hint_x: None
                width: self.height
                text: ">"
                on_release: app.sm.change_screen('right')
